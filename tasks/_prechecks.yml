---
- name: Check OS type
  fail:
    msg: "Sorry, your OS type is not supported"
  when: ansible_distribution != "Ubuntu"

- name: Ensure CA dir
  file:
    path: "{{ item }}"
    owner: root
    group: root
    mode: 0750
    state: directory
  with_items:
    - "{{ ca_dir }}/certs/"
    - "{{ ca_dir }}/crl/"
    - "{{ ca_dir }}/csr/"
    - "{{ ca_dir }}/private/"
